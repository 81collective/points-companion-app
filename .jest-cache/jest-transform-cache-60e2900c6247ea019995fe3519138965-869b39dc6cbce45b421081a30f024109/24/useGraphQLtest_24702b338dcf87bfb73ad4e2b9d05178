74c0c678567879788a1f967fe3c19b29
"use strict";

var _react = _interopRequireDefault(require("react"));
var _testUtils = require("../testUtils");
var _client = require("@apollo/client");
var _react2 = require("@apollo/client/react");
var _core = require("@apollo/client/core");
var _graphql = require("graphql");
var _useGraphQL = require("../../lib/graphql/useGraphQL");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
// Setup mocks before tests
beforeAll(() => {
  (0, _testUtils.setupTests)();
});

// Helper to create an ApolloClient with a simple mock link

const stableStringify = value => {
  const seen = new WeakSet();
  const helper = val => {
    if (val === null || typeof val !== 'object') return val;
    if (seen.has(val)) return undefined;
    seen.add(val);
    if (Array.isArray(val)) return val.map(helper);
    const keys = Object.keys(val).sort();
    const out = {};
    for (const k of keys) out[k] = helper(val[k]);
    return out;
  };
  return JSON.stringify(helper(value));
};
const createClientWithMocks = mocks => {
  const link = new _core.ApolloLink(operation => new _core.Observable(observer => {
    const opName = operation.operationName;
    const opQueryStr = (0, _graphql.print)(operation.query);
    const match = mocks.find(m => {
      const reqName = m.request.operationName;
      const reqQueryStr = m.request.query && (0, _graphql.print)(m.request.query);
      const nameMatches = reqName ? !!opName && reqName === opName : true;
      const queryMatches = reqQueryStr ? reqQueryStr === opQueryStr : true;
      const reqVars = m.request.variables ?? {};
      const opVars = operation.variables ?? {};
      const varsMatch = stableStringify(reqVars) === stableStringify(opVars);
      return nameMatches && queryMatches && varsMatch;
    });
    setTimeout(() => {
      if (!match) {
        // Leave observable pending so tests can assert loading state
        return;
      }
      if (match.error) {
        observer.error(match.error);
        return;
      }
      observer.next(match.result);
      observer.complete();
    }, 0);
  }));
  return new _client.ApolloClient({
    cache: new _client.InMemoryCache(),
    link
  });
};

// Helper to render with ApolloProvider
const renderWithApollo = (ui, mocks = []) => {
  const client = createClientWithMocks(mocks);
  return (0, _testUtils.customRender)(/*#__PURE__*/_react.default.createElement(_react2.ApolloProvider, {
    client: client
  }, ui));
};
describe('GraphQL Hooks', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  describe('useBusinessesQuery', () => {
    it('should return businesses data when query succeeds', async () => {
      const mockBusinesses = [{
        id: '1',
        name: 'Test Business',
        address: '123 Test St',
        latitude: 40.7128,
        longitude: -74.0060,
        rating: 4.5,
        priceLevel: 2,
        distance: 1000,
        category: 'restaurant',
        placeId: 'test_place_id'
      }];
      const mocks = [{
        request: {
          operationName: 'Businesses',
          query: _useGraphQL.BUSINESSES_QUERY,
          variables: {
            category: 'restaurant',
            limit: 10
          }
        },
        result: {
          data: {
            businesses: mockBusinesses
          }
        }
      }];

      // Test component that uses the hook
      const TestComponent = () => {
        const {
          data,
          loading,
          error
        } = (0, _useGraphQL.useBusinessesQuery)({
          category: 'restaurant',
          limit: 10
        });
        if (loading) return /*#__PURE__*/_react.default.createElement("div", null, "Loading...");
        if (error) return /*#__PURE__*/_react.default.createElement("div", null, "Error: ", error.message);
        return /*#__PURE__*/_react.default.createElement("div", null, data?.businesses.map(business => /*#__PURE__*/_react.default.createElement("div", {
          key: business.id,
          "data-testid": `business-${business.id}`
        }, business.name)));
      };
      renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByTestId('business-1')).toBeInTheDocument();
        expect(_testUtils.screen.getByText('Test Business')).toBeInTheDocument();
      });
    });
    it('should handle loading state correctly', () => {
      const mocks = []; // no mocks to simulate loading until resolved

      const TestComponent = () => {
        const {
          loading
        } = (0, _useGraphQL.useBusinessesQuery)({
          category: 'restaurant',
          limit: 10
        });
        return /*#__PURE__*/_react.default.createElement("div", null, loading ? 'Loading...' : 'Loaded');
      };
      renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      expect(_testUtils.screen.getByText('Loading...')).toBeInTheDocument();
    });
    it('should handle error state correctly', async () => {
      const mocks = [{
        request: {
          operationName: 'Businesses',
          query: _useGraphQL.BUSINESSES_QUERY,
          variables: {
            category: 'restaurant',
            limit: 10
          }
        },
        error: new Error('GraphQL Error')
      }];
      const TestComponent = () => {
        const {
          error
        } = (0, _useGraphQL.useBusinessesQuery)({
          category: 'restaurant',
          limit: 10
        });
        return /*#__PURE__*/_react.default.createElement("div", null, error ? `Error: ${error.message}` : 'No error');
      };
      renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('Error: GraphQL Error')).toBeInTheDocument();
      });
    });
    it('should pass correct variables to query', () => {
      const variables = {
        category: 'restaurant',
        limit: 20,
        offset: 10
      };
      const mocks = [{
        request: {
          operationName: 'Businesses',
          query: _useGraphQL.BUSINESSES_QUERY,
          variables
        },
        result: {
          data: {
            businesses: []
          }
        }
      }];
      const TestComponent = () => {
        const {
          data,
          loading,
          error
        } = (0, _useGraphQL.useBusinessesQuery)(variables);
        if (loading) return /*#__PURE__*/_react.default.createElement("div", null, "Loading...");
        if (error) return /*#__PURE__*/_react.default.createElement("div", null, "Error");
        return /*#__PURE__*/_react.default.createElement("div", null, "Loaded ", data?.businesses?.length);
      };
      renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      return (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('Loaded 0')).toBeInTheDocument();
      });
    });
  });
  describe('useBusinessDetailsQuery', () => {
    it('should return business details with proper structure', async () => {
      const mockBusinessDetails = {
        id: '1',
        name: 'Detailed Business',
        address: '123 Detail St',
        latitude: 40.7128,
        longitude: -74.0060,
        rating: 4.5,
        priceLevel: 3,
        distance: 500,
        category: 'restaurant',
        placeId: 'detailed_place_id',
        reviews: [{
          id: 'review1',
          author: 'John Doe',
          rating: 5,
          text: 'Great place!',
          time: '2023-01-01'
        }],
        photos: [{
          id: 'photo1',
          url: 'https://example.com/photo1.jpg',
          width: 800,
          height: 600
        }],
        hours: {
          monday: '9:00 AM - 10:00 PM',
          tuesday: '9:00 AM - 10:00 PM',
          wednesday: '9:00 AM - 10:00 PM',
          thursday: '9:00 AM - 10:00 PM',
          friday: '9:00 AM - 11:00 PM',
          saturday: '10:00 AM - 11:00 PM',
          sunday: '10:00 AM - 9:00 PM'
        }
      };
      const mocks = [{
        request: {
          operationName: 'BusinessDetails',
          query: _useGraphQL.BUSINESS_DETAILS_QUERY,
          variables: {
            id: '1'
          }
        },
        result: {
          data: {
            business: mockBusinessDetails
          }
        }
      }];
      const TestComponent = () => {
        const {
          data
        } = (0, _useGraphQL.useBusinessDetailsQuery)('1');
        return /*#__PURE__*/_react.default.createElement("div", null, data?.business && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement("h1", null, data.business.name), /*#__PURE__*/_react.default.createElement("p", null, data.business.address), /*#__PURE__*/_react.default.createElement("div", null, "Rating: ", data.business.rating), /*#__PURE__*/_react.default.createElement("div", null, "Reviews: ", data.business.reviews.length), /*#__PURE__*/_react.default.createElement("div", null, "Photos: ", data.business.photos.length)));
      };
      renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('Detailed Business')).toBeInTheDocument();
        expect(_testUtils.screen.getByText('123 Detail St')).toBeInTheDocument();
        expect(_testUtils.screen.getByText('Rating: 4.5')).toBeInTheDocument();
        expect(_testUtils.screen.getByText('Reviews: 1')).toBeInTheDocument();
        expect(_testUtils.screen.getByText('Photos: 1')).toBeInTheDocument();
      });
    });
  });
  describe('useNearbyBusinessesQuery', () => {
    it('should handle location-based queries correctly', async () => {
      const mockNearbyBusinesses = [{
        id: 'nearby1',
        name: 'Nearby Restaurant',
        distance: 200,
        latitude: 40.7128,
        longitude: -74.0060
      }, {
        id: 'nearby2',
        name: 'Another Nearby Place',
        distance: 500,
        latitude: 40.7130,
        longitude: -74.0062
      }];
      const mocks = [{
        request: {
          operationName: 'NearbyBusinesses',
          query: _useGraphQL.NEARBY_BUSINESSES_QUERY,
          variables: {
            lat: 40.7128,
            lng: -74.0060,
            radius: 1000,
            category: 'restaurant'
          }
        },
        result: {
          data: {
            nearbyBusinesses: mockNearbyBusinesses
          }
        }
      }];
      const TestComponent = () => {
        const {
          data
        } = (0, _useGraphQL.useNearbyBusinessesQuery)({
          latitude: 40.7128,
          longitude: -74.0060,
          radius: 1000,
          category: 'restaurant'
        });
        return /*#__PURE__*/_react.default.createElement("div", null, data?.nearbyBusinesses.map(business => /*#__PURE__*/_react.default.createElement("div", {
          key: business.id,
          "data-testid": `nearby-${business.id}`
        }, business.name, " - ", business.distance, "m")));
      };
      renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByTestId('nearby-nearby1')).toBeInTheDocument();
        expect(_testUtils.screen.getByTestId('nearby-nearby2')).toBeInTheDocument();
        expect(_testUtils.screen.getByText('Nearby Restaurant - 200m')).toBeInTheDocument();
        expect(_testUtils.screen.getByText('Another Nearby Place - 500m')).toBeInTheDocument();
      });
    });
    it('should sort businesses by distance', async () => {
      const unsortedBusinesses = [{
        id: 'far',
        name: 'Far Business',
        distance: 1000,
        latitude: 40.7128,
        longitude: -74.0060
      }, {
        id: 'close',
        name: 'Close Business',
        distance: 100,
        latitude: 40.7128,
        longitude: -74.0060
      }];
      const mocks = [{
        request: {
          operationName: 'NearbyBusinesses',
          query: _useGraphQL.NEARBY_BUSINESSES_QUERY,
          variables: {
            lat: 40.7128,
            lng: -74.0060,
            radius: 1000
          }
        },
        result: {
          data: {
            nearbyBusinesses: unsortedBusinesses
          }
        }
      }];
      const TestComponent = () => {
        const {
          data
        } = (0, _useGraphQL.useNearbyBusinessesQuery)({
          latitude: 40.7128,
          longitude: -74.0060,
          radius: 1000
        });
        return /*#__PURE__*/_react.default.createElement("div", null, data?.nearbyBusinesses.map(business => /*#__PURE__*/_react.default.createElement("div", {
          key: business.id
        }, business.name)));
      };
      renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      await (0, _testUtils.waitFor)(() => {
        const businessElements = _testUtils.screen.getAllByText(/Business/);
        // Should be sorted by distance (close first)
        expect(businessElements[0]).toHaveTextContent('Close Business');
        expect(businessElements[1]).toHaveTextContent('Far Business');
      });
    });
  });
  describe('GraphQL Error Handling', () => {
    it('should handle network errors gracefully', async () => {
      const mocks = [{
        request: {
          operationName: 'Businesses',
          query: _useGraphQL.BUSINESSES_QUERY,
          variables: {
            category: 'restaurant'
          }
        },
        error: new Error('Network error')
      }];
      const TestComponent = () => {
        const {
          error
        } = (0, _useGraphQL.useBusinessesQuery)({
          category: 'restaurant'
        });
        return /*#__PURE__*/_react.default.createElement("div", null, error ? 'Network Error Occurred' : 'No Error');
      };
      renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('Network Error Occurred')).toBeInTheDocument();
      });
    });
    it('should handle GraphQL validation errors', async () => {
      const mocks = [{
        request: {
          operationName: 'Businesses',
          query: _useGraphQL.BUSINESSES_QUERY,
          variables: {
            category: 'invalid'
          }
        },
        result: {
          errors: [{
            message: 'Invalid category parameter',
            extensions: {
              code: 'VALIDATION_ERROR'
            }
          }]
        }
      }];
      const TestComponent = () => {
        const {
          error
        } = (0, _useGraphQL.useBusinessesQuery)({
          category: 'invalid'
        });
        return /*#__PURE__*/_react.default.createElement("div", null, error ? 'Validation Error' : 'No Error');
      };
      renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('Validation Error')).toBeInTheDocument();
      });
    });
  });
  describe('GraphQL Performance', () => {
    it('should cache query results appropriately', async () => {
      const mockData = {
        businesses: [{
          id: '1',
          name: 'Cached Business'
        }]
      };
      const mocks = [{
        request: {
          operationName: 'Businesses',
          query: _useGraphQL.BUSINESSES_QUERY,
          variables: {
            category: 'restaurant'
          }
        },
        result: {
          data: mockData
        }
      }];
      const TestComponent = () => {
        const {
          data
        } = (0, _useGraphQL.useBusinessesQuery)({
          category: 'restaurant'
        });
        return /*#__PURE__*/_react.default.createElement("div", null, data?.businesses[0]?.name);
      };
      const {
        rerender
      } = renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('Cached Business')).toBeInTheDocument();
      });

      // Re-render should use cached/mocked data
      rerender(/*#__PURE__*/_react.default.createElement(_react2.ApolloProvider, {
        client: createClientWithMocks(mocks)
      }, /*#__PURE__*/_react.default.createElement(TestComponent, null)));
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('Cached Business')).toBeInTheDocument();
      });
    });
    it('should handle concurrent queries efficiently', async () => {
      const mockData = {
        businesses: [{
          id: '1',
          name: 'Concurrent Business'
        }]
      };
      const mocks = [{
        request: {
          operationName: 'Businesses',
          query: _useGraphQL.BUSINESSES_QUERY,
          variables: {
            category: 'restaurant'
          }
        },
        result: {
          data: mockData
        }
      }];
      const TestComponent = () => {
        const query1 = (0, _useGraphQL.useBusinessesQuery)({
          category: 'restaurant'
        });
        const query2 = (0, _useGraphQL.useBusinessesQuery)({
          category: 'restaurant'
        });
        return /*#__PURE__*/_react.default.createElement("div", null, query1.data?.businesses[0]?.name, query2.data?.businesses[0]?.name);
      };
      renderWithApollo(/*#__PURE__*/_react.default.createElement(TestComponent, null), mocks);
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('Concurrent BusinessConcurrent Business')).toBeInTheDocument();
      });

      // Apollo cache should serve both calls from the same result without extra mocks
      expect(_testUtils.screen.getByText('Concurrent BusinessConcurrent Business')).toBeInTheDocument();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl90ZXN0VXRpbHMiLCJfY2xpZW50IiwiX3JlYWN0MiIsIl9jb3JlIiwiX2dyYXBocWwiLCJfdXNlR3JhcGhRTCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImJlZm9yZUFsbCIsInNldHVwVGVzdHMiLCJzdGFibGVTdHJpbmdpZnkiLCJ2YWx1ZSIsInNlZW4iLCJXZWFrU2V0IiwiaGVscGVyIiwidmFsIiwiaGFzIiwidW5kZWZpbmVkIiwiYWRkIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwia2V5cyIsIk9iamVjdCIsInNvcnQiLCJvdXQiLCJrIiwiSlNPTiIsInN0cmluZ2lmeSIsImNyZWF0ZUNsaWVudFdpdGhNb2NrcyIsIm1vY2tzIiwibGluayIsIkFwb2xsb0xpbmsiLCJvcGVyYXRpb24iLCJPYnNlcnZhYmxlIiwib2JzZXJ2ZXIiLCJvcE5hbWUiLCJvcGVyYXRpb25OYW1lIiwib3BRdWVyeVN0ciIsInByaW50IiwicXVlcnkiLCJtYXRjaCIsImZpbmQiLCJtIiwicmVxTmFtZSIsInJlcXVlc3QiLCJyZXFRdWVyeVN0ciIsIm5hbWVNYXRjaGVzIiwicXVlcnlNYXRjaGVzIiwicmVxVmFycyIsInZhcmlhYmxlcyIsIm9wVmFycyIsInZhcnNNYXRjaCIsInNldFRpbWVvdXQiLCJlcnJvciIsIm5leHQiLCJyZXN1bHQiLCJjb21wbGV0ZSIsIkFwb2xsb0NsaWVudCIsImNhY2hlIiwiSW5NZW1vcnlDYWNoZSIsInJlbmRlcldpdGhBcG9sbG8iLCJ1aSIsImNsaWVudCIsImN1c3RvbVJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJBcG9sbG9Qcm92aWRlciIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImplc3QiLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJtb2NrQnVzaW5lc3NlcyIsImlkIiwibmFtZSIsImFkZHJlc3MiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInJhdGluZyIsInByaWNlTGV2ZWwiLCJkaXN0YW5jZSIsImNhdGVnb3J5IiwicGxhY2VJZCIsIkJVU0lORVNTRVNfUVVFUlkiLCJsaW1pdCIsImRhdGEiLCJidXNpbmVzc2VzIiwiVGVzdENvbXBvbmVudCIsImxvYWRpbmciLCJ1c2VCdXNpbmVzc2VzUXVlcnkiLCJtZXNzYWdlIiwiYnVzaW5lc3MiLCJrZXkiLCJ3YWl0Rm9yIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImdldEJ5VGV4dCIsIkVycm9yIiwib2Zmc2V0IiwibGVuZ3RoIiwibW9ja0J1c2luZXNzRGV0YWlscyIsInJldmlld3MiLCJhdXRob3IiLCJ0ZXh0IiwidGltZSIsInBob3RvcyIsInVybCIsIndpZHRoIiwiaGVpZ2h0IiwiaG91cnMiLCJtb25kYXkiLCJ0dWVzZGF5Iiwid2VkbmVzZGF5IiwidGh1cnNkYXkiLCJmcmlkYXkiLCJzYXR1cmRheSIsInN1bmRheSIsIkJVU0lORVNTX0RFVEFJTFNfUVVFUlkiLCJ1c2VCdXNpbmVzc0RldGFpbHNRdWVyeSIsIkZyYWdtZW50IiwibW9ja05lYXJieUJ1c2luZXNzZXMiLCJORUFSQllfQlVTSU5FU1NFU19RVUVSWSIsImxhdCIsImxuZyIsInJhZGl1cyIsIm5lYXJieUJ1c2luZXNzZXMiLCJ1c2VOZWFyYnlCdXNpbmVzc2VzUXVlcnkiLCJ1bnNvcnRlZEJ1c2luZXNzZXMiLCJidXNpbmVzc0VsZW1lbnRzIiwiZ2V0QWxsQnlUZXh0IiwidG9IYXZlVGV4dENvbnRlbnQiLCJlcnJvcnMiLCJleHRlbnNpb25zIiwiY29kZSIsIm1vY2tEYXRhIiwicmVyZW5kZXIiLCJxdWVyeTEiLCJxdWVyeTIiXSwic291cmNlcyI6WyJ1c2VHcmFwaFFMLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGN1c3RvbVJlbmRlciwgc2NyZWVuLCB3YWl0Rm9yLCBzZXR1cFRlc3RzIH0gZnJvbSAnLi4vdGVzdFV0aWxzJztcclxuaW1wb3J0IHsgQXBvbGxvQ2xpZW50LCBJbk1lbW9yeUNhY2hlIH0gZnJvbSAnQGFwb2xsby9jbGllbnQnO1xyXG5pbXBvcnQgeyBBcG9sbG9Qcm92aWRlciB9IGZyb20gJ0BhcG9sbG8vY2xpZW50L3JlYWN0JztcclxuaW1wb3J0IHsgQXBvbGxvTGluaywgT2JzZXJ2YWJsZSB9IGZyb20gJ0BhcG9sbG8vY2xpZW50L2NvcmUnO1xyXG5pbXBvcnQgeyBwcmludCB9IGZyb20gJ2dyYXBocWwnO1xyXG5pbXBvcnQge1xyXG4gIHVzZUJ1c2luZXNzZXNRdWVyeSxcclxuICB1c2VCdXNpbmVzc0RldGFpbHNRdWVyeSxcclxuICB1c2VOZWFyYnlCdXNpbmVzc2VzUXVlcnksXHJcbiAgQlVTSU5FU1NFU19RVUVSWSxcclxuICBCVVNJTkVTU19ERVRBSUxTX1FVRVJZLFxyXG4gIE5FQVJCWV9CVVNJTkVTU0VTX1FVRVJZLFxyXG59IGZyb20gJy4uLy4uL2xpYi9ncmFwaHFsL3VzZUdyYXBoUUwnO1xyXG5cclxuLy8gU2V0dXAgbW9ja3MgYmVmb3JlIHRlc3RzXHJcbmJlZm9yZUFsbCgoKSA9PiB7XHJcbiAgc2V0dXBUZXN0cygpO1xyXG59KTtcclxuXHJcbi8vIEhlbHBlciB0byBjcmVhdGUgYW4gQXBvbGxvQ2xpZW50IHdpdGggYSBzaW1wbGUgbW9jayBsaW5rXHJcbnR5cGUgTW9jayA9IHsgcmVxdWVzdDogeyBxdWVyeTogYW55OyB2YXJpYWJsZXM/OiBhbnk7IG9wZXJhdGlvbk5hbWU/OiBzdHJpbmcgfTsgcmVzdWx0PzogeyBkYXRhPzogYW55OyBlcnJvcnM/OiBhbnlbXSB9OyBlcnJvcj86IEVycm9yIH07XHJcbmNvbnN0IHN0YWJsZVN0cmluZ2lmeSA9ICh2YWx1ZTogYW55KTogc3RyaW5nID0+IHtcclxuICBjb25zdCBzZWVuID0gbmV3IFdlYWtTZXQoKTtcclxuICBjb25zdCBoZWxwZXIgPSAodmFsOiBhbnkpOiBhbnkgPT4ge1xyXG4gICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsICE9PSAnb2JqZWN0JykgcmV0dXJuIHZhbDtcclxuICAgIGlmIChzZWVuLmhhcyh2YWwpKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgc2Vlbi5hZGQodmFsKTtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHJldHVybiB2YWwubWFwKGhlbHBlcik7XHJcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsKS5zb3J0KCk7XHJcbiAgICBjb25zdCBvdXQ6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcclxuICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSBvdXRba10gPSBoZWxwZXIodmFsW2tdKTtcclxuICAgIHJldHVybiBvdXQ7XHJcbiAgfTtcclxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaGVscGVyKHZhbHVlKSk7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZUNsaWVudFdpdGhNb2NrcyA9IChtb2NrczogTW9ja1tdKSA9PiB7XHJcbiAgY29uc3QgbGluayA9IG5ldyBBcG9sbG9MaW5rKG9wZXJhdGlvbiA9PlxyXG4gICAgbmV3IE9ic2VydmFibGUob2JzZXJ2ZXIgPT4ge1xyXG4gICAgICBjb25zdCBvcE5hbWUgPSBvcGVyYXRpb24ub3BlcmF0aW9uTmFtZTtcclxuICAgICAgY29uc3Qgb3BRdWVyeVN0ciA9IHByaW50KG9wZXJhdGlvbi5xdWVyeSk7XHJcbiAgICAgIGNvbnN0IG1hdGNoID0gbW9ja3MuZmluZChtID0+IHtcclxuICAgICAgICBjb25zdCByZXFOYW1lID0gKG0ucmVxdWVzdCBhcyBhbnkpLm9wZXJhdGlvbk5hbWU7XHJcbiAgICAgICAgY29uc3QgcmVxUXVlcnlTdHIgPSBtLnJlcXVlc3QucXVlcnkgJiYgcHJpbnQobS5yZXF1ZXN0LnF1ZXJ5KTtcclxuICAgICAgICBjb25zdCBuYW1lTWF0Y2hlcyA9IHJlcU5hbWUgPyAoISFvcE5hbWUgJiYgcmVxTmFtZSA9PT0gb3BOYW1lKSA6IHRydWU7XHJcbiAgICAgICAgY29uc3QgcXVlcnlNYXRjaGVzID0gcmVxUXVlcnlTdHIgPyByZXFRdWVyeVN0ciA9PT0gb3BRdWVyeVN0ciA6IHRydWU7XHJcbiAgICAgICAgY29uc3QgcmVxVmFycyA9IG0ucmVxdWVzdC52YXJpYWJsZXMgPz8ge307XHJcbiAgICAgICAgY29uc3Qgb3BWYXJzID0gb3BlcmF0aW9uLnZhcmlhYmxlcyA/PyB7fTtcclxuICAgICAgICBjb25zdCB2YXJzTWF0Y2ggPSBzdGFibGVTdHJpbmdpZnkocmVxVmFycykgPT09IHN0YWJsZVN0cmluZ2lmeShvcFZhcnMpO1xyXG4gICAgICAgIHJldHVybiBuYW1lTWF0Y2hlcyAmJiBxdWVyeU1hdGNoZXMgJiYgdmFyc01hdGNoO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICAgIC8vIExlYXZlIG9ic2VydmFibGUgcGVuZGluZyBzbyB0ZXN0cyBjYW4gYXNzZXJ0IGxvYWRpbmcgc3RhdGVcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1hdGNoLmVycm9yKSB7XHJcbiAgICAgICAgICBvYnNlcnZlci5lcnJvcihtYXRjaC5lcnJvcik7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9ic2VydmVyLm5leHQobWF0Y2gucmVzdWx0IGFzIGFueSk7XHJcbiAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgfSwgMCk7XHJcbiAgICB9KVxyXG4gICk7XHJcblxyXG4gIHJldHVybiBuZXcgQXBvbGxvQ2xpZW50KHsgY2FjaGU6IG5ldyBJbk1lbW9yeUNhY2hlKCksIGxpbmsgfSk7XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgdG8gcmVuZGVyIHdpdGggQXBvbGxvUHJvdmlkZXJcclxuY29uc3QgcmVuZGVyV2l0aEFwb2xsbyA9ICh1aTogUmVhY3QuUmVhY3RFbGVtZW50LCBtb2NrczogTW9ja1tdID0gW10pID0+IHtcclxuICBjb25zdCBjbGllbnQgPSBjcmVhdGVDbGllbnRXaXRoTW9ja3MobW9ja3MpO1xyXG4gIHJldHVybiBjdXN0b21SZW5kZXIoPEFwb2xsb1Byb3ZpZGVyIGNsaWVudD17Y2xpZW50fT57dWl9PC9BcG9sbG9Qcm92aWRlcj4pO1xyXG59O1xyXG5cclxuZGVzY3JpYmUoJ0dyYXBoUUwgSG9va3MnLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3VzZUJ1c2luZXNzZXNRdWVyeScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGJ1c2luZXNzZXMgZGF0YSB3aGVuIHF1ZXJ5IHN1Y2NlZWRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrQnVzaW5lc3NlcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJzEnLFxyXG4gICAgICAgICAgbmFtZTogJ1Rlc3QgQnVzaW5lc3MnLFxyXG4gICAgICAgICAgYWRkcmVzczogJzEyMyBUZXN0IFN0JyxcclxuICAgICAgICAgIGxhdGl0dWRlOiA0MC43MTI4LFxyXG4gICAgICAgICAgbG9uZ2l0dWRlOiAtNzQuMDA2MCxcclxuICAgICAgICAgIHJhdGluZzogNC41LFxyXG4gICAgICAgICAgcHJpY2VMZXZlbDogMixcclxuICAgICAgICAgIGRpc3RhbmNlOiAxMDAwLFxyXG4gICAgICAgICAgY2F0ZWdvcnk6ICdyZXN0YXVyYW50JyxcclxuICAgICAgICAgIHBsYWNlSWQ6ICd0ZXN0X3BsYWNlX2lkJyxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgbW9ja3MgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcmVxdWVzdDoge1xyXG4gICAgICAgICAgICBvcGVyYXRpb25OYW1lOiAnQnVzaW5lc3NlcycsXHJcbiAgICAgICAgICAgIHF1ZXJ5OiBCVVNJTkVTU0VTX1FVRVJZLFxyXG4gICAgICAgICAgICB2YXJpYWJsZXM6IHsgY2F0ZWdvcnk6ICdyZXN0YXVyYW50JywgbGltaXQ6IDEwIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVzdWx0OiB7IGRhdGE6IHsgYnVzaW5lc3NlczogbW9ja0J1c2luZXNzZXMgfSB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICAvLyBUZXN0IGNvbXBvbmVudCB0aGF0IHVzZXMgdGhlIGhvb2tcclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIGxvYWRpbmcsIGVycm9yIH0gPSB1c2VCdXNpbmVzc2VzUXVlcnkoe1xyXG4gICAgICAgICAgY2F0ZWdvcnk6ICdyZXN0YXVyYW50JyxcclxuICAgICAgICAgIGxpbWl0OiAxMCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGxvYWRpbmcpIHJldHVybiA8ZGl2PkxvYWRpbmcuLi48L2Rpdj47XHJcbiAgICAgICAgaWYgKGVycm9yKSByZXR1cm4gPGRpdj5FcnJvcjoge2Vycm9yLm1lc3NhZ2V9PC9kaXY+O1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAge2RhdGE/LmJ1c2luZXNzZXMubWFwKChidXNpbmVzczogYW55KSA9PiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2J1c2luZXNzLmlkfSBkYXRhLXRlc3RpZD17YGJ1c2luZXNzLSR7YnVzaW5lc3MuaWR9YH0+XHJcbiAgICAgICAgICAgICAgICB7YnVzaW5lc3MubmFtZX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgICB9O1xyXG5cclxuICByZW5kZXJXaXRoQXBvbGxvKDxUZXN0Q29tcG9uZW50IC8+LCBtb2Nrcyk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdidXNpbmVzcy0xJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgQnVzaW5lc3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsb2FkaW5nIHN0YXRlIGNvcnJlY3RseScsICgpID0+IHtcclxuICBjb25zdCBtb2NrczogYW55W10gPSBbXTsgLy8gbm8gbW9ja3MgdG8gc2ltdWxhdGUgbG9hZGluZyB1bnRpbCByZXNvbHZlZFxyXG5cclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGxvYWRpbmcgfSA9IHVzZUJ1c2luZXNzZXNRdWVyeSh7XHJcbiAgICAgICAgICBjYXRlZ29yeTogJ3Jlc3RhdXJhbnQnLFxyXG4gICAgICAgICAgbGltaXQ6IDEwLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gPGRpdj57bG9hZGluZyA/ICdMb2FkaW5nLi4uJyA6ICdMb2FkZWQnfTwvZGl2PjtcclxuICAgICAgfTtcclxuXHJcbiAgcmVuZGVyV2l0aEFwb2xsbyg8VGVzdENvbXBvbmVudCAvPiwgbW9ja3MpO1xyXG5cclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvYWRpbmcuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGhhbmRsZSBlcnJvciBzdGF0ZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHJlcXVlc3Q6IHtcclxuICAgICAgICAgICAgb3BlcmF0aW9uTmFtZTogJ0J1c2luZXNzZXMnLFxyXG4gICAgICAgICAgICBxdWVyeTogQlVTSU5FU1NFU19RVUVSWSxcclxuICAgICAgICAgICAgdmFyaWFibGVzOiB7IGNhdGVnb3J5OiAncmVzdGF1cmFudCcsIGxpbWl0OiAxMCB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGVycm9yOiBuZXcgRXJyb3IoJ0dyYXBoUUwgRXJyb3InKSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGVycm9yIH0gPSB1c2VCdXNpbmVzc2VzUXVlcnkoe1xyXG4gICAgICAgICAgY2F0ZWdvcnk6ICdyZXN0YXVyYW50JyxcclxuICAgICAgICAgIGxpbWl0OiAxMCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIDxkaXY+e2Vycm9yID8gYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCA6ICdObyBlcnJvcid9PC9kaXY+O1xyXG4gICAgICB9O1xyXG5cclxuICByZW5kZXJXaXRoQXBvbGxvKDxUZXN0Q29tcG9uZW50IC8+LCBtb2Nrcyk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRXJyb3I6IEdyYXBoUUwgRXJyb3InKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHBhc3MgY29ycmVjdCB2YXJpYWJsZXMgdG8gcXVlcnknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IHtcclxuICAgICAgICBjYXRlZ29yeTogJ3Jlc3RhdXJhbnQnLFxyXG4gICAgICAgIGxpbWl0OiAyMCxcclxuICAgICAgICBvZmZzZXQ6IDEwLFxyXG4gICAgICB9O1xyXG5cclxuICAgIGNvbnN0IG1vY2tzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgcmVxdWVzdDogeyBvcGVyYXRpb25OYW1lOiAnQnVzaW5lc3NlcycsIHF1ZXJ5OiBCVVNJTkVTU0VTX1FVRVJZLCB2YXJpYWJsZXMgfSxcclxuICAgICAgICAgIHJlc3VsdDogeyBkYXRhOiB7IGJ1c2luZXNzZXM6IFtdIH0gfSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIGxvYWRpbmcsIGVycm9yIH0gPSB1c2VCdXNpbmVzc2VzUXVlcnkodmFyaWFibGVzKTtcclxuICAgICAgICBpZiAobG9hZGluZykgcmV0dXJuIDxkaXY+TG9hZGluZy4uLjwvZGl2PjtcclxuICAgICAgICBpZiAoZXJyb3IpIHJldHVybiA8ZGl2PkVycm9yPC9kaXY+O1xyXG4gICAgICAgIHJldHVybiA8ZGl2PkxvYWRlZCB7ZGF0YT8uYnVzaW5lc3Nlcz8ubGVuZ3RofTwvZGl2PjtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlbmRlcldpdGhBcG9sbG8oPFRlc3RDb21wb25lbnQgLz4sIG1vY2tzKTtcclxuXHJcbiAgICAgIHJldHVybiB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTG9hZGVkIDAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3VzZUJ1c2luZXNzRGV0YWlsc1F1ZXJ5JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYnVzaW5lc3MgZGV0YWlscyB3aXRoIHByb3BlciBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tCdXNpbmVzc0RldGFpbHMgPSB7XHJcbiAgICAgICAgaWQ6ICcxJyxcclxuICAgICAgICBuYW1lOiAnRGV0YWlsZWQgQnVzaW5lc3MnLFxyXG4gICAgICAgIGFkZHJlc3M6ICcxMjMgRGV0YWlsIFN0JyxcclxuICAgICAgICBsYXRpdHVkZTogNDAuNzEyOCxcclxuICAgICAgICBsb25naXR1ZGU6IC03NC4wMDYwLFxyXG4gICAgICAgIHJhdGluZzogNC41LFxyXG4gICAgICAgIHByaWNlTGV2ZWw6IDMsXHJcbiAgICAgICAgZGlzdGFuY2U6IDUwMCxcclxuICAgICAgICBjYXRlZ29yeTogJ3Jlc3RhdXJhbnQnLFxyXG4gICAgICAgIHBsYWNlSWQ6ICdkZXRhaWxlZF9wbGFjZV9pZCcsXHJcbiAgICAgICAgcmV2aWV3czogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpZDogJ3JldmlldzEnLFxyXG4gICAgICAgICAgICBhdXRob3I6ICdKb2huIERvZScsXHJcbiAgICAgICAgICAgIHJhdGluZzogNSxcclxuICAgICAgICAgICAgdGV4dDogJ0dyZWF0IHBsYWNlIScsXHJcbiAgICAgICAgICAgIHRpbWU6ICcyMDIzLTAxLTAxJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgICBwaG90b3M6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaWQ6ICdwaG90bzEnLFxyXG4gICAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL3Bob3RvMS5qcGcnLFxyXG4gICAgICAgICAgICB3aWR0aDogODAwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDYwMCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgICBob3Vyczoge1xyXG4gICAgICAgICAgbW9uZGF5OiAnOTowMCBBTSAtIDEwOjAwIFBNJyxcclxuICAgICAgICAgIHR1ZXNkYXk6ICc5OjAwIEFNIC0gMTA6MDAgUE0nLFxyXG4gICAgICAgICAgd2VkbmVzZGF5OiAnOTowMCBBTSAtIDEwOjAwIFBNJyxcclxuICAgICAgICAgIHRodXJzZGF5OiAnOTowMCBBTSAtIDEwOjAwIFBNJyxcclxuICAgICAgICAgIGZyaWRheTogJzk6MDAgQU0gLSAxMTowMCBQTScsXHJcbiAgICAgICAgICBzYXR1cmRheTogJzEwOjAwIEFNIC0gMTE6MDAgUE0nLFxyXG4gICAgICAgICAgc3VuZGF5OiAnMTA6MDAgQU0gLSA5OjAwIFBNJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgIGNvbnN0IG1vY2tzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgcmVxdWVzdDogeyBvcGVyYXRpb25OYW1lOiAnQnVzaW5lc3NEZXRhaWxzJywgcXVlcnk6IEJVU0lORVNTX0RFVEFJTFNfUVVFUlksIHZhcmlhYmxlczogeyBpZDogJzEnIH0gfSxcclxuICAgICAgICAgIHJlc3VsdDogeyBkYXRhOiB7IGJ1c2luZXNzOiBtb2NrQnVzaW5lc3NEZXRhaWxzIH0gfSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHVzZUJ1c2luZXNzRGV0YWlsc1F1ZXJ5KCcxJyk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICB7ZGF0YT8uYnVzaW5lc3MgJiYgKFxyXG4gICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICA8aDE+e2RhdGEuYnVzaW5lc3MubmFtZX08L2gxPlxyXG4gICAgICAgICAgICAgICAgPHA+e2RhdGEuYnVzaW5lc3MuYWRkcmVzc308L3A+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlJhdGluZzoge2RhdGEuYnVzaW5lc3MucmF0aW5nfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5SZXZpZXdzOiB7ZGF0YS5idXNpbmVzcy5yZXZpZXdzLmxlbmd0aH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXY+UGhvdG9zOiB7ZGF0YS5idXNpbmVzcy5waG90b3MubGVuZ3RofTwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgICAgfTtcclxuXHJcbiAgcmVuZGVyV2l0aEFwb2xsbyg8VGVzdENvbXBvbmVudCAvPiwgbW9ja3MpO1xyXG5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0RldGFpbGVkIEJ1c2luZXNzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzEyMyBEZXRhaWwgU3QnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUmF0aW5nOiA0LjUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUmV2aWV3czogMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaG90b3M6IDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3VzZU5lYXJieUJ1c2luZXNzZXNRdWVyeScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxvY2F0aW9uLWJhc2VkIHF1ZXJpZXMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrTmVhcmJ5QnVzaW5lc3NlcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJ25lYXJieTEnLFxyXG4gICAgICAgICAgbmFtZTogJ05lYXJieSBSZXN0YXVyYW50JyxcclxuICAgICAgICAgIGRpc3RhbmNlOiAyMDAsXHJcbiAgICAgICAgICBsYXRpdHVkZTogNDAuNzEyOCxcclxuICAgICAgICAgIGxvbmdpdHVkZTogLTc0LjAwNjAsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJ25lYXJieTInLFxyXG4gICAgICAgICAgbmFtZTogJ0Fub3RoZXIgTmVhcmJ5IFBsYWNlJyxcclxuICAgICAgICAgIGRpc3RhbmNlOiA1MDAsXHJcbiAgICAgICAgICBsYXRpdHVkZTogNDAuNzEzMCxcclxuICAgICAgICAgIGxvbmdpdHVkZTogLTc0LjAwNjIsXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IG1vY2tzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHJlcXVlc3Q6IHtcclxuICAgICAgICAgICAgb3BlcmF0aW9uTmFtZTogJ05lYXJieUJ1c2luZXNzZXMnLFxyXG4gICAgICAgICAgICBxdWVyeTogTkVBUkJZX0JVU0lORVNTRVNfUVVFUlksXHJcbiAgICAgICAgICAgIHZhcmlhYmxlczogeyBsYXQ6IDQwLjcxMjgsIGxuZzogLTc0LjAwNjAsIHJhZGl1czogMTAwMCwgY2F0ZWdvcnk6ICdyZXN0YXVyYW50JyB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc3VsdDogeyBkYXRhOiB7IG5lYXJieUJ1c2luZXNzZXM6IG1vY2tOZWFyYnlCdXNpbmVzc2VzIH0gfSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHVzZU5lYXJieUJ1c2luZXNzZXNRdWVyeSh7XHJcbiAgICAgICAgICBsYXRpdHVkZTogNDAuNzEyOCxcclxuICAgICAgICAgIGxvbmdpdHVkZTogLTc0LjAwNjAsXHJcbiAgICAgICAgICByYWRpdXM6IDEwMDAsXHJcbiAgICAgICAgICBjYXRlZ29yeTogJ3Jlc3RhdXJhbnQnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAge2RhdGE/Lm5lYXJieUJ1c2luZXNzZXMubWFwKChidXNpbmVzczogYW55KSA9PiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2J1c2luZXNzLmlkfSBkYXRhLXRlc3RpZD17YG5lYXJieS0ke2J1c2luZXNzLmlkfWB9PlxyXG4gICAgICAgICAgICAgICAge2J1c2luZXNzLm5hbWV9IC0ge2J1c2luZXNzLmRpc3RhbmNlfW1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgICB9O1xyXG5cclxuICByZW5kZXJXaXRoQXBvbGxvKDxUZXN0Q29tcG9uZW50IC8+LCBtb2Nrcyk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCduZWFyYnktbmVhcmJ5MScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ25lYXJieS1uZWFyYnkyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05lYXJieSBSZXN0YXVyYW50IC0gMjAwbScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBbm90aGVyIE5lYXJieSBQbGFjZSAtIDUwMG0nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHNvcnQgYnVzaW5lc3NlcyBieSBkaXN0YW5jZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdW5zb3J0ZWRCdXNpbmVzc2VzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAnZmFyJyxcclxuICAgICAgICAgIG5hbWU6ICdGYXIgQnVzaW5lc3MnLFxyXG4gICAgICAgICAgZGlzdGFuY2U6IDEwMDAsXHJcbiAgICAgICAgICBsYXRpdHVkZTogNDAuNzEyOCxcclxuICAgICAgICAgIGxvbmdpdHVkZTogLTc0LjAwNjAsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJ2Nsb3NlJyxcclxuICAgICAgICAgIG5hbWU6ICdDbG9zZSBCdXNpbmVzcycsXHJcbiAgICAgICAgICBkaXN0YW5jZTogMTAwLFxyXG4gICAgICAgICAgbGF0aXR1ZGU6IDQwLjcxMjgsXHJcbiAgICAgICAgICBsb25naXR1ZGU6IC03NC4wMDYwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCBtb2NrcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICByZXF1ZXN0OiB7XHJcbiAgICAgICAgICAgIG9wZXJhdGlvbk5hbWU6ICdOZWFyYnlCdXNpbmVzc2VzJyxcclxuICAgICAgICAgICAgcXVlcnk6IE5FQVJCWV9CVVNJTkVTU0VTX1FVRVJZLFxyXG4gICAgICAgICAgICB2YXJpYWJsZXM6IHsgbGF0OiA0MC43MTI4LCBsbmc6IC03NC4wMDYwLCByYWRpdXM6IDEwMDAgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZXN1bHQ6IHsgZGF0YTogeyBuZWFyYnlCdXNpbmVzc2VzOiB1bnNvcnRlZEJ1c2luZXNzZXMgfSB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCBUZXN0Q29tcG9uZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gdXNlTmVhcmJ5QnVzaW5lc3Nlc1F1ZXJ5KHtcclxuICAgICAgICAgIGxhdGl0dWRlOiA0MC43MTI4LFxyXG4gICAgICAgICAgbG9uZ2l0dWRlOiAtNzQuMDA2MCxcclxuICAgICAgICAgIHJhZGl1czogMTAwMCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIHtkYXRhPy5uZWFyYnlCdXNpbmVzc2VzLm1hcCgoYnVzaW5lc3M6IGFueSkgPT4gKFxyXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtidXNpbmVzcy5pZH0+XHJcbiAgICAgICAgICAgICAgICB7YnVzaW5lc3MubmFtZX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgICB9O1xyXG5cclxuICByZW5kZXJXaXRoQXBvbGxvKDxUZXN0Q29tcG9uZW50IC8+LCBtb2Nrcyk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBjb25zdCBidXNpbmVzc0VsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgvQnVzaW5lc3MvKTtcclxuICAgICAgICAvLyBTaG91bGQgYmUgc29ydGVkIGJ5IGRpc3RhbmNlIChjbG9zZSBmaXJzdClcclxuICAgICAgICBleHBlY3QoYnVzaW5lc3NFbGVtZW50c1swXSkudG9IYXZlVGV4dENvbnRlbnQoJ0Nsb3NlIEJ1c2luZXNzJyk7XHJcbiAgICAgICAgZXhwZWN0KGJ1c2luZXNzRWxlbWVudHNbMV0pLnRvSGF2ZVRleHRDb250ZW50KCdGYXIgQnVzaW5lc3MnKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0dyYXBoUUwgRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgbmV0d29yayBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IG1vY2tzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgcmVxdWVzdDogeyBvcGVyYXRpb25OYW1lOiAnQnVzaW5lc3NlcycsIHF1ZXJ5OiBCVVNJTkVTU0VTX1FVRVJZLCB2YXJpYWJsZXM6IHsgY2F0ZWdvcnk6ICdyZXN0YXVyYW50JyB9IH0sXHJcbiAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJyksXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gdXNlQnVzaW5lc3Nlc1F1ZXJ5KHsgY2F0ZWdvcnk6ICdyZXN0YXVyYW50JyB9KTtcclxuICAgICAgICByZXR1cm4gPGRpdj57ZXJyb3IgPyAnTmV0d29yayBFcnJvciBPY2N1cnJlZCcgOiAnTm8gRXJyb3InfTwvZGl2PjtcclxuICAgICAgfTtcclxuXHJcbiAgcmVuZGVyV2l0aEFwb2xsbyg8VGVzdENvbXBvbmVudCAvPiwgbW9ja3MpO1xyXG5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05ldHdvcmsgRXJyb3IgT2NjdXJyZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBHcmFwaFFMIHZhbGlkYXRpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgbW9ja3MgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICByZXF1ZXN0OiB7IG9wZXJhdGlvbk5hbWU6ICdCdXNpbmVzc2VzJywgcXVlcnk6IEJVU0lORVNTRVNfUVVFUlksIHZhcmlhYmxlczogeyBjYXRlZ29yeTogJ2ludmFsaWQnIH0gfSxcclxuICAgICAgICAgIHJlc3VsdDoge1xyXG4gICAgICAgICAgICBlcnJvcnM6IFtcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBjYXRlZ29yeSBwYXJhbWV0ZXInLFxyXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uczogeyBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicgfSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGVycm9yIH0gPSB1c2VCdXNpbmVzc2VzUXVlcnkoeyBjYXRlZ29yeTogJ2ludmFsaWQnIH0pO1xyXG4gICAgICAgIHJldHVybiA8ZGl2PntlcnJvciA/ICdWYWxpZGF0aW9uIEVycm9yJyA6ICdObyBFcnJvcid9PC9kaXY+O1xyXG4gICAgICB9O1xyXG5cclxuICByZW5kZXJXaXRoQXBvbGxvKDxUZXN0Q29tcG9uZW50IC8+LCBtb2Nrcyk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVmFsaWRhdGlvbiBFcnJvcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnR3JhcGhRTCBQZXJmb3JtYW5jZScsICgpID0+IHtcclxuICBpdCgnc2hvdWxkIGNhY2hlIHF1ZXJ5IHJlc3VsdHMgYXBwcm9wcmlhdGVseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja0RhdGEgPSB7IGJ1c2luZXNzZXM6IFt7IGlkOiAnMScsIG5hbWU6ICdDYWNoZWQgQnVzaW5lc3MnIH1dIH07XHJcbiAgICBjb25zdCBtb2NrcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgIHJlcXVlc3Q6IHsgb3BlcmF0aW9uTmFtZTogJ0J1c2luZXNzZXMnLCBxdWVyeTogQlVTSU5FU1NFU19RVUVSWSwgdmFyaWFibGVzOiB7IGNhdGVnb3J5OiAncmVzdGF1cmFudCcgfSB9LFxyXG4gICAgICAgICAgcmVzdWx0OiB7IGRhdGE6IG1vY2tEYXRhIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSB1c2VCdXNpbmVzc2VzUXVlcnkoeyBjYXRlZ29yeTogJ3Jlc3RhdXJhbnQnIH0pO1xyXG4gICAgICAgIHJldHVybiA8ZGl2PntkYXRhPy5idXNpbmVzc2VzWzBdPy5uYW1lfTwvZGl2PjtcclxuICAgICAgfTtcclxuXHJcbiAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyV2l0aEFwb2xsbyg8VGVzdENvbXBvbmVudCAvPiwgbW9ja3MpO1xyXG5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NhY2hlZCBCdXNpbmVzcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFJlLXJlbmRlciBzaG91bGQgdXNlIGNhY2hlZC9tb2NrZWQgZGF0YVxyXG4gICAgICByZXJlbmRlcihcclxuICAgICAgICA8QXBvbGxvUHJvdmlkZXIgY2xpZW50PXtjcmVhdGVDbGllbnRXaXRoTW9ja3MobW9ja3MpfT5cclxuICAgICAgICAgIDxUZXN0Q29tcG9uZW50IC8+XHJcbiAgICAgICAgPC9BcG9sbG9Qcm92aWRlcj5cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDYWNoZWQgQnVzaW5lc3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IHF1ZXJpZXMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tEYXRhID0geyBidXNpbmVzc2VzOiBbeyBpZDogJzEnLCBuYW1lOiAnQ29uY3VycmVudCBCdXNpbmVzcycgfV0gfTtcclxuICAgIGNvbnN0IG1vY2tzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgcmVxdWVzdDogeyBvcGVyYXRpb25OYW1lOiAnQnVzaW5lc3NlcycsIHF1ZXJ5OiBCVVNJTkVTU0VTX1FVRVJZLCB2YXJpYWJsZXM6IHsgY2F0ZWdvcnk6ICdyZXN0YXVyYW50JyB9IH0sXHJcbiAgICAgICAgICByZXN1bHQ6IHsgZGF0YTogbW9ja0RhdGEgfSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBxdWVyeTEgPSB1c2VCdXNpbmVzc2VzUXVlcnkoeyBjYXRlZ29yeTogJ3Jlc3RhdXJhbnQnIH0pO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5MiA9IHVzZUJ1c2luZXNzZXNRdWVyeSh7IGNhdGVnb3J5OiAncmVzdGF1cmFudCcgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICB7cXVlcnkxLmRhdGE/LmJ1c2luZXNzZXNbMF0/Lm5hbWV9XHJcbiAgICAgICAgICAgIHtxdWVyeTIuZGF0YT8uYnVzaW5lc3Nlc1swXT8ubmFtZX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICAgIH07XHJcblxyXG4gIHJlbmRlcldpdGhBcG9sbG8oPFRlc3RDb21wb25lbnQgLz4sIG1vY2tzKTtcclxuXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb25jdXJyZW50IEJ1c2luZXNzQ29uY3VycmVudCBCdXNpbmVzcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgLy8gQXBvbGxvIGNhY2hlIHNob3VsZCBzZXJ2ZSBib3RoIGNhbGxzIGZyb20gdGhlIHNhbWUgcmVzdWx0IHdpdGhvdXQgZXh0cmEgbW9ja3NcclxuICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29uY3VycmVudCBCdXNpbmVzc0NvbmN1cnJlbnQgQnVzaW5lc3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtc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