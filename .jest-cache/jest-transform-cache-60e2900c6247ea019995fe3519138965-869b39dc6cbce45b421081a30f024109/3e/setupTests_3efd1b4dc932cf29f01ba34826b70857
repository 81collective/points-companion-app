209e7a579478f3d264ab3a6886b07df9
"use strict";
// Jest setup file for comprehensive testing environment
// Configures mocks, utilities, and test environment
Object.defineProperty(exports, "__esModule", { value: true });
const testUtils_1 = require("./testUtils");
// Setup global test environment
(0, testUtils_1.setupTests)();
// Mock window.matchMedia
Object.defineProperty(window, 'matchMedia', {
    writable: true,
    value: jest.fn().mockImplementation(query => ({
        matches: false,
        media: query,
        onchange: null,
        addListener: jest.fn(), // deprecated
        removeListener: jest.fn(), // deprecated
        addEventListener: jest.fn(),
        removeEventListener: jest.fn(),
        dispatchEvent: jest.fn(),
    })),
});
// Mock window.ResizeObserver
global.ResizeObserver = jest.fn().mockImplementation(() => ({
    observe: jest.fn(),
    unobserve: jest.fn(),
    disconnect: jest.fn(),
}));
// Mock window.IntersectionObserver
global.IntersectionObserver = jest.fn().mockImplementation(() => ({
    observe: jest.fn(),
    unobserve: jest.fn(),
    disconnect: jest.fn(),
}));
// Mock navigator.geolocation
Object.defineProperty(navigator, 'geolocation', {
    value: {
        getCurrentPosition: jest.fn(),
        watchPosition: jest.fn(),
        clearWatch: jest.fn(),
    },
    writable: true,
});
// Mock navigator.serviceWorker
Object.defineProperty(navigator, 'serviceWorker', {
    value: {
        register: jest.fn(() => Promise.resolve({
            active: { state: 'activated' },
            waiting: null,
            installing: null,
        })),
        addEventListener: jest.fn(),
        removeEventListener: jest.fn(),
    },
    writable: true,
});
// Mock localStorage
const localStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn(),
};
Object.defineProperty(window, 'localStorage', {
    value: localStorageMock,
});
// Mock sessionStorage
const sessionStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn(),
};
Object.defineProperty(window, 'sessionStorage', {
    value: sessionStorageMock,
});
// Mock Google Maps API
global.google = {
    maps: {
        Map: jest.fn(),
        Marker: jest.fn(),
        InfoWindow: jest.fn(),
        PlacesService: jest.fn(),
        PlacesServiceStatus: {
            OK: 'OK',
            ZERO_RESULTS: 'ZERO_RESULTS',
            OVER_QUERY_LIMIT: 'OVER_QUERY_LIMIT',
            REQUEST_DENIED: 'REQUEST_DENIED',
            INVALID_REQUEST: 'INVALID_REQUEST',
        },
    },
};
// Mock fetch API
global.fetch = jest.fn();
// Mock console methods for cleaner test output
const originalConsoleError = console.error;
const originalConsoleWarn = console.warn;
beforeAll(() => {
    console.error = jest.fn();
    console.warn = jest.fn();
});
afterAll(() => {
    console.error = originalConsoleError;
    console.warn = originalConsoleWarn;
});
// Mock performance API
global.performance.mark = jest.fn();
global.performance.measure = jest.fn();
global.performance.getEntriesByName = jest.fn(() => []);
global.performance.clearMarks = jest.fn();
global.performance.clearMeasures = jest.fn();
// Mock requestAnimationFrame
global.requestAnimationFrame = jest.fn(cb => setTimeout(cb, 16));
global.cancelAnimationFrame = jest.fn();
// Mock requestIdleCallback
global.requestIdleCallback = jest.fn(cb => setTimeout(cb, 1));
global.cancelIdleCallback = jest.fn();
// Cleanup after each test
afterEach(() => {
    jest.clearAllMocks();
    jest.clearAllTimers();
});
// Global test utilities
global.testUtils = {
    // Helper to wait for async operations
    waitForAsync: () => new Promise(resolve => setImmediate(resolve)),
    // Helper to create mock promises
    createMockPromise: (value, delay = 0) => new Promise(resolve => setTimeout(() => resolve(value), delay)),
    // Helper to create mock rejections
    createMockRejection: (error, delay = 0) => new Promise((_, reject) => setTimeout(() => reject(error), delay)),
};
// Performance testing utilities
global.performanceUtils = {
    // Measure function execution time
    measureExecutionTime: async (fn) => {
        const start = performance.now();
        const result = await fn();
        const duration = performance.now() - start;
        return { result, duration };
    },
    // Assert performance threshold
    assertPerformance: (duration, threshold) => {
        if (duration > threshold) {
            throw new Error(`Performance test failed: ${duration}ms exceeded threshold of ${threshold}ms`);
        }
    },
};
// Memory testing utilities
global.memoryUtils = {
    // Get current memory usage
    getMemoryUsage: () => {
        if ('memory' in performance) {
            return performance.memory;
        }
        return null;
    },
    // Assert memory usage is within limits
    assertMemoryUsage: (maxHeapUsed) => {
        const memory = global.memoryUtils.getMemoryUsage();
        if (memory && memory.usedJSHeapSize > maxHeapUsed) {
            throw new Error(`Memory usage test failed: ${memory.usedJSHeapSize} exceeded limit of ${maxHeapUsed}`);
        }
    },
};
// Accessibility testing utilities
global.a11yUtils = {
    // Check if element has proper ARIA attributes
    hasAriaAttributes: (element) => {
        const ariaAttributes = [
            'aria-label',
            'aria-labelledby',
            'aria-describedby',
            'aria-expanded',
            'aria-selected',
            'role',
        ];
        return ariaAttributes.some(attr => element.hasAttribute(attr));
    },
    // Check if element is keyboard accessible
    isKeyboardAccessible: (element) => {
        const tabIndex = element.getAttribute('tabindex');
        const tagName = element.tagName.toLowerCase();
        return (tabIndex !== '-1' &&
            (tabIndex !== null || ['button', 'input', 'select', 'textarea', 'a'].includes(tagName)));
    },
};
// Network testing utilities
global.networkUtils = {
    // Mock successful API response
    mockApiSuccess: (data, status = 200) => {
        global.fetch.mockResolvedValueOnce({
            ok: true,
            status,
            json: () => Promise.resolve(data),
            text: () => Promise.resolve(JSON.stringify(data)),
        });
    },
    // Mock failed API response
    mockApiError: (error, status = 500) => {
        global.fetch.mockRejectedValueOnce(error);
    },
    // Mock network timeout
    mockNetworkTimeout: (delay = 5000) => {
        global.fetch.mockImplementationOnce(() => new Promise((_, reject) => setTimeout(() => reject(new Error('Network timeout')), delay)));
    },
};
// Mock environment variables
delete process.env.NODE_ENV;
process.env.NODE_ENV = 'test';
process.env.REACT_APP_API_URL = 'http://localhost:3001';
process.env.REACT_APP_GOOGLE_MAPS_API_KEY = 'test-api-key';
global.testUtils = {
    // Helper to wait for async operations
    waitForAsync: () => new Promise(resolve => setImmediate(resolve)),
    // Helper to create mock promises
    createMockPromise: (value, delay = 0) => new Promise(resolve => setTimeout(() => resolve(value), delay)),
    // Helper to create mock rejections
    createMockRejection: (error, delay = 0) => new Promise((_, reject) => setTimeout(() => reject(error), delay)),
};
// Performance testing utilities
global.performanceUtils = {
    // Measure function execution time
    measureExecutionTime: async (fn) => {
        const start = performance.now();
        const result = await fn();
        const duration = performance.now() - start;
        return { result, duration };
    },
    // Assert performance threshold
    assertPerformance: (duration, threshold) => {
        if (duration > threshold) {
            throw new Error(`Performance test failed: ${duration}ms exceeded threshold of ${threshold}ms`);
        }
    },
};
// Memory testing utilities
global.memoryUtils = {
    // Get current memory usage
    getMemoryUsage: () => {
        if ('memory' in performance) {
            return performance.memory;
        }
        return null;
    },
    // Assert memory usage is within limits
    assertMemoryUsage: (maxHeapUsed) => {
        const memory = global.memoryUtils.getMemoryUsage();
        if (memory && memory.usedJSHeapSize > maxHeapUsed) {
            throw new Error(`Memory usage test failed: ${memory.usedJSHeapSize} exceeded limit of ${maxHeapUsed}`);
        }
    },
};
// Accessibility testing utilities
global.a11yUtils = {
    // Check if element has proper ARIA attributes
    hasAriaAttributes: (element) => {
        const ariaAttributes = [
            'aria-label',
            'aria-labelledby',
            'aria-describedby',
            'aria-expanded',
            'aria-selected',
            'role',
        ];
        return ariaAttributes.some(attr => element.hasAttribute(attr));
    },
    // Check if element is keyboard accessible
    isKeyboardAccessible: (element) => {
        const tabIndex = element.getAttribute('tabindex');
        const tagName = element.tagName.toLowerCase();
        return (tabIndex !== '-1' &&
            (tabIndex !== null || ['button', 'input', 'select', 'textarea', 'a'].includes(tagName)));
    },
};
// Network testing utilities
global.networkUtils = {
    // Mock successful API response
    mockApiSuccess: (data, status = 200) => {
        global.fetch.mockResolvedValueOnce({
            ok: true,
            status,
            json: () => Promise.resolve(data),
            text: () => Promise.resolve(JSON.stringify(data)),
        });
    },
    // Mock failed API response
    mockApiError: (error, status = 500) => {
        global.fetch.mockRejectedValueOnce(error);
    },
    // Mock network timeout
    mockNetworkTimeout: (delay = 5000) => {
        global.fetch.mockImplementationOnce(() => new Promise((_, reject) => setTimeout(() => reject(new Error('Network timeout')), delay)));
    },
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxNZWRpYSBTZXJ2ZXJcXERvY3VtZW50c1xcUHJvamVjdHNcXHBvaW50cy1jb21wYW5pb24tYXBwXFxzcmNcXHRlc3RcXHNldHVwVGVzdHMudHMiLCJtYXBwaW5ncyI6IjtBQUFBLHdEQUF3RDtBQUN4RCxvREFBb0Q7O0FBRXBELDJDQUF5QztBQUV6QyxnQ0FBZ0M7QUFDaEMsSUFBQSxzQkFBVSxHQUFFLENBQUM7QUFFYix5QkFBeUI7QUFDekIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsWUFBWSxFQUFFO0lBQzFDLFFBQVEsRUFBRSxJQUFJO0lBQ2QsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDNUMsT0FBTyxFQUFFLEtBQUs7UUFDZCxLQUFLLEVBQUUsS0FBSztRQUNaLFFBQVEsRUFBRSxJQUFJO1FBQ2QsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxhQUFhO1FBQ3JDLGNBQWMsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsYUFBYTtRQUN4QyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQzNCLG1CQUFtQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDOUIsYUFBYSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7S0FDekIsQ0FBQyxDQUFDO0NBQ0osQ0FBQyxDQUFDO0FBRUgsNkJBQTZCO0FBQzdCLE1BQU0sQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDMUQsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDbEIsU0FBUyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDcEIsVUFBVSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7Q0FDdEIsQ0FBQyxDQUFDLENBQUM7QUFFSixtQ0FBbUM7QUFDbkMsTUFBTSxDQUFDLG9C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QiwrQkFBK0I7SUFDL0IsY0FBYyxFQUFFLENBQUMsSUFBUyxFQUFFLE1BQU0sR0FBRyxHQUFHLEVBQUUsRUFBRTtRQUN6QyxNQUFNLENBQUMsS0FBbUIsQ0FBQyxxQkFBcUIsQ0FBQztZQUNoRCxFQUFFLEVBQUUsSUFBSTtZQUNSLE1BQU07WUFDTixJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7WUFDakMsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNsRCxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsMkJBQTJCO0lBQzNCLFlBQVksRUFBRSxDQUFDLEtBQVksRUFBRSxNQUFNLEdBQUcsR0FBRyxFQUFFLEVBQUU7UUFDMUMsTUFBTSxDQUFDLEtBQW1CLENBQUMscUJBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVELHVCQUF1QjtJQUN2QixrQkFBa0IsRUFBRSxDQUFDLEtBQUssR0FBRyxJQUFJLEVBQUUsRUFBRTtRQUNsQyxNQUFNLENBQUMsS0FBbUIsQ0FBQyxzQkFBc0IsQ0FDaEQsR0FBRyxFQUFFLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FDOUIsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQzlELENBQ0YsQ0FBQztJQUNKLENBQUM7Q0FDRixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTWVkaWEgU2VydmVyXFxEb2N1bWVudHNcXFByb2plY3RzXFxwb2ludHMtY29tcGFuaW9uLWFwcFxcc3JjXFx0ZXN0XFxzZXR1cFRlc3RzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEplc3Qgc2V0dXAgZmlsZSBmb3IgY29tcHJlaGVuc2l2ZSB0ZXN0aW5nIGVudmlyb25tZW50XHJcbi8vIENvbmZpZ3VyZXMgbW9ja3MsIHV0aWxpdGllcywgYW5kIHRlc3QgZW52aXJvbm1lbnRcclxuXHJcbmltcG9ydCB7IHNldHVwVGVzdHMgfSBmcm9tICcuL3Rlc3RVdGlscyc7XHJcblxyXG4vLyBTZXR1cCBnbG9iYWwgdGVzdCBlbnZpcm9ubWVudFxyXG5zZXR1cFRlc3RzKCk7XHJcblxyXG4vLyBNb2NrIHdpbmRvdy5tYXRjaE1lZGlhXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdtYXRjaE1lZGlhJywge1xyXG4gIHdyaXRhYmxlOiB0cnVlLFxyXG4gIHZhbHVlOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKHF1ZXJ5ID0+ICh7XHJcbiAgICBtYXRjaGVzOiBmYWxzZSxcclxuICAgIG1lZGlhOiBxdWVyeSxcclxuICAgIG9uY2hhbmdlOiBudWxsLFxyXG4gICAgYWRkTGlzdGVuZXI6IGplc3QuZm4oKSwgLy8gZGVwcmVjYXRlZFxyXG4gICAgcmVtb3ZlTGlzdGVuZXI6IGplc3QuZm4oKSwgLy8gZGVwcmVjYXRlZFxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxyXG4gICAgZGlzcGF0Y2hFdmVudDogamVzdC5mbigpLFxyXG4gIH0pKSxcclxufSk7XHJcblxyXG4vLyBNb2NrIHdpbmRvdy5SZXNpemVPYnNlcnZlclxyXG5nbG9iYWwuUmVzaXplT2JzZXJ2ZXIgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XHJcbiAgb2JzZXJ2ZTogamVzdC5mbigpLFxyXG4gIHVub2JzZXJ2ZTogamVzdC5mbigpLFxyXG4gIGRpc2Nvbm5lY3Q6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuLy8gTW9jayB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcclxuZ2xvYmFsLkludGVyc2VjdGlvbk9ic2VydmVyID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gIG9ic2VydmU6IGplc3QuZm4oKSxcclxuICB1bm9ic2VydmU6IGplc3QuZm4oKSxcclxuICBkaXNjb25uZWN0OiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgbmF2aWdhdG9yLmdlb2xvY2F0aW9uXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXZpZ2F0b3IsICdnZW9sb2NhdGlvbicsIHtcclxuICB2YWx1ZToge1xyXG4gICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBqZXN0LmZuKCksXHJcbiAgICB3YXRjaFBvc2l0aW9uOiBqZXN0LmZuKCksXHJcbiAgICBjbGVhcldhdGNoOiBqZXN0LmZuKCksXHJcbiAgfSxcclxuICB3cml0YWJsZTogdHJ1ZSxcclxufSk7XHJcblxyXG4vLyBNb2NrIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXZpZ2F0b3IsICdzZXJ2aWNlV29ya2VyJywge1xyXG4gIHZhbHVlOiB7XHJcbiAgICByZWdpc3RlcjogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICBhY3RpdmU6IHsgc3RhdGU6ICdhY3RpdmF0ZWQnIH0sXHJcbiAgICAgIHdhaXRpbmc6IG51bGwsXHJcbiAgICAgIGluc3RhbGxpbmc6IG51bGwsXHJcbiAgICB9KSksXHJcbiAgICBhZGRFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXHJcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXHJcbiAgfSxcclxuICB3cml0YWJsZTogdHJ1ZSxcclxufSk7XHJcblxyXG4vLyBNb2NrIGxvY2FsU3RvcmFnZVxyXG5jb25zdCBsb2NhbFN0b3JhZ2VNb2NrID0ge1xyXG4gIGdldEl0ZW06IGplc3QuZm4oKSxcclxuICBzZXRJdGVtOiBqZXN0LmZuKCksXHJcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxyXG4gIGNsZWFyOiBqZXN0LmZuKCksXHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdsb2NhbFN0b3JhZ2UnLCB7XHJcbiAgdmFsdWU6IGxvY2FsU3RvcmFnZU1vY2ssXHJcbn0pO1xyXG5cclxuLy8gTW9jayBzZXNzaW9uU3RvcmFnZVxyXG5jb25zdCBzZXNzaW9uU3RvcmFnZU1vY2sgPSB7XHJcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxyXG4gIHNldEl0ZW06IGplc3QuZm4oKSxcclxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXHJcbiAgY2xlYXI6IGplc3QuZm4oKSxcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3Nlc3Npb25TdG9yYWdlJywge1xyXG4gIHZhbHVlOiBzZXNzaW9uU3RvcmFnZU1vY2ssXHJcbn0pO1xyXG5cclxuLy8gTW9jayBHb29nbGUgTWFwcyBBUElcclxuKGdsb2JhbCBhcyBhbnkpLmdvb2dsZSA9IHtcclxuICBtYXBzOiB7XHJcbiAgICBNYXA6IGplc3QuZm4oKSxcclxuICAgIE1hcmtlcjogamVzdC5mbigpLFxyXG4gICAgSW5mb1dpbmRvdzogamVzdC5mbigpLFxyXG4gICAgUGxhY2VzU2VydmljZTogamVzdC5mbigpLFxyXG4gICAgUGxhY2VzU2VydmljZVN0YXR1czoge1xyXG4gICAgICBPSzogJ09LJyxcclxuICAgICAgWkVST19SRVNVTFRTOiAnWkVST19SRVNVTFRTJyxcclxuICAgICAgT1ZFUl9RVUVSWV9MSU1JVDogJ09WRVJfUVVFUllfTElNSVQnLFxyXG4gICAgICBSRVFVRVNUX0RFTklFRDogJ1JFUVVFU1RfREVOSUVEJyxcclxuICAgICAgSU5WQUxJRF9SRVFVRVNUOiAnSU5WQUxJRF9SRVFVRVNUJyxcclxuICAgIH0sXHJcbiAgfSxcclxufTtcclxuXHJcbi8vIE1vY2sgZmV0Y2ggQVBJXHJcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKTtcclxuXHJcbi8vIE1vY2sgY29uc29sZSBtZXRob2RzIGZvciBjbGVhbmVyIHRlc3Qgb3V0cHV0XHJcbmNvbnN0IG9yaWdpbmFsQ29uc29sZUVycm9yID0gY29uc29sZS5lcnJvcjtcclxuY29uc3Qgb3JpZ2luYWxDb25zb2xlV2FybiA9IGNvbnNvbGUud2FybjtcclxuXHJcbmJlZm9yZUFsbCgoKSA9PiB7XHJcbiAgY29uc29sZS5lcnJvciA9IGplc3QuZm4oKTtcclxuICBjb25zb2xlLndhcm4gPSBqZXN0LmZuKCk7XHJcbn0pO1xyXG5cclxuYWZ0ZXJBbGwoKCkgPT4ge1xyXG4gIGNvbnNvbGUuZXJyb3IgPSBvcmlnaW5hbENvbnNvbGVFcnJvcjtcclxuICBjb25zb2xlLndhcm4gPSBvcmlnaW5hbENvbnNvbGVXYXJuO1xyXG59KTtcclxuXHJcbi8vIE1vY2sgcGVyZm9ybWFuY2UgQVBJXHJcbmdsb2JhbC5wZXJmb3JtYW5jZS5tYXJrID0gamVzdC5mbigpO1xyXG5nbG9iYWwucGVyZm9ybWFuY2UubWVhc3VyZSA9IGplc3QuZm4oKTtcclxuZ2xvYmFsLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUgPSBqZXN0LmZuKCgpID0+IFtdKTtcclxuZ2xvYmFsLnBlcmZvcm1hbmNlLmNsZWFyTWFya3MgPSBqZXN0LmZuKCk7XHJcbmdsb2JhbC5wZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzID0gamVzdC5mbigpO1xyXG5cclxuLy8gTW9jayByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGplc3QuZm4oY2IgPT4gc2V0VGltZW91dChjYiwgMTYpKTtcclxuZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gamVzdC5mbigpO1xyXG5cclxuLy8gTW9jayByZXF1ZXN0SWRsZUNhbGxiYWNrXHJcbmdsb2JhbC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gamVzdC5mbihjYiA9PiBzZXRUaW1lb3V0KGNiLCAxKSk7XHJcbmdsb2JhbC5jYW5jZWxJZGxlQ2FsbGJhY2sgPSBqZXN0LmZuKCk7XHJcblxyXG4vLyBDbGVhbnVwIGFmdGVyIGVhY2ggdGVzdFxyXG5hZnRlckVhY2goKCkgPT4ge1xyXG4gIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIGplc3QuY2xlYXJBbGxUaW1lcnMoKTtcclxufSk7XHJcblxyXG4vLyBHbG9iYWwgdGVzdCB1dGlsaXRpZXNcclxuKGdsb2JhbCBhcyBhbnkpLnRlc3RVdGlscyA9IHtcclxuICAvLyBIZWxwZXIgdG8gd2FpdCBmb3IgYXN5bmMgb3BlcmF0aW9uc1xyXG4gIHdhaXRGb3JBc3luYzogKCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRJbW1lZGlhdGUocmVzb2x2ZSkpLFxyXG5cclxuICAvLyBIZWxwZXIgdG8gY3JlYXRlIG1vY2sgcHJvbWlzZXNcclxuICBjcmVhdGVNb2NrUHJvbWlzZTogPFQ+KHZhbHVlOiBULCBkZWxheSA9IDApID0+XHJcbiAgICBuZXcgUHJvbWlzZTxUPihyZXNvbHZlID0+IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSh2YWx1ZSksIGRlbGF5KSksXHJcblxyXG4gIC8vIEhlbHBlciB0byBjcmVhdGUgbW9jayByZWplY3Rpb25zXHJcbiAgY3JlYXRlTW9ja1JlamVjdGlvbjogKGVycm9yOiBFcnJvciwgZGVsYXkgPSAwKSA9PlxyXG4gICAgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4gc2V0VGltZW91dCgoKSA9PiByZWplY3QoZXJyb3IpLCBkZWxheSkpLFxyXG59O1xyXG5cclxuLy8gUGVyZm9ybWFuY2UgdGVzdGluZyB1dGlsaXRpZXNcclxuKGdsb2JhbCBhcyBhbnkpLnBlcmZvcm1hbmNlVXRpbHMgPSB7XHJcbiAgLy8gTWVhc3VyZSBmdW5jdGlvbiBleGVjdXRpb24gdGltZVxyXG4gIG1lYXN1cmVFeGVjdXRpb25UaW1lOiBhc3luYyA8VD4oZm46ICgpID0+IFByb21pc2U8VD4gfCBUKTogUHJvbWlzZTx7IHJlc3VsdDogVDsgZHVyYXRpb246IG51bWJlciB9PiA9PiB7XHJcbiAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oKTtcclxuICAgIGNvbnN0IGR1cmF0aW9uID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydDtcclxuICAgIHJldHVybiB7IHJlc3VsdCwgZHVyYXRpb24gfTtcclxuICB9LFxyXG5cclxuICAvLyBBc3NlcnQgcGVyZm9ybWFuY2UgdGhyZXNob2xkXHJcbiAgYXNzZXJ0UGVyZm9ybWFuY2U6IChkdXJhdGlvbjogbnVtYmVyLCB0aHJlc2hvbGQ6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKGR1cmF0aW9uID4gdGhyZXNob2xkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUGVyZm9ybWFuY2UgdGVzdCBmYWlsZWQ6ICR7ZHVyYXRpb259bXMgZXhjZWVkZWQgdGhyZXNob2xkIG9mICR7dGhyZXNob2xkfW1zYCk7XHJcbiAgICB9XHJcbiAgfSxcclxufTtcclxuXHJcbi8vIE1lbW9yeSB0ZXN0aW5nIHV0aWxpdGllc1xyXG4oZ2xvYmFsIGFzIGFueSkubWVtb3J5VXRpbHMgPSB7XHJcbiAgLy8gR2V0IGN1cnJlbnQgbWVtb3J5IHVzYWdlXHJcbiAgZ2V0TWVtb3J5VXNhZ2U6ICgpID0+IHtcclxuICAgIGlmICgnbWVtb3J5JyBpbiBwZXJmb3JtYW5jZSkge1xyXG4gICAgICByZXR1cm4gKHBlcmZvcm1hbmNlIGFzIGFueSkubWVtb3J5O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSxcclxuXHJcbiAgLy8gQXNzZXJ0IG1lbW9yeSB1c2FnZSBpcyB3aXRoaW4gbGltaXRzXHJcbiAgYXNzZXJ0TWVtb3J5VXNhZ2U6IChtYXhIZWFwVXNlZDogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBtZW1vcnkgPSAoZ2xvYmFsIGFzIGFueSkubWVtb3J5VXRpbHMuZ2V0TWVtb3J5VXNhZ2UoKTtcclxuICAgIGlmIChtZW1vcnkgJiYgbWVtb3J5LnVzZWRKU0hlYXBTaXplID4gbWF4SGVhcFVzZWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNZW1vcnkgdXNhZ2UgdGVzdCBmYWlsZWQ6ICR7bWVtb3J5LnVzZWRKU0hlYXBTaXplfSBleGNlZWRlZCBsaW1pdCBvZiAke21heEhlYXBVc2VkfWApO1xyXG4gICAgfVxyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBBY2Nlc3NpYmlsaXR5IHRlc3RpbmcgdXRpbGl0aWVzXHJcbihnbG9iYWwgYXMgYW55KS5hMTF5VXRpbHMgPSB7XHJcbiAgLy8gQ2hlY2sgaWYgZWxlbWVudCBoYXMgcHJvcGVyIEFSSUEgYXR0cmlidXRlc1xyXG4gIGhhc0FyaWFBdHRyaWJ1dGVzOiAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGFyaWFBdHRyaWJ1dGVzID0gW1xyXG4gICAgICAnYXJpYS1sYWJlbCcsXHJcbiAgICAgICdhcmlhLWxhYmVsbGVkYnknLFxyXG4gICAgICAnYXJpYS1kZXNjcmliZWRieScsXHJcbiAgICAgICdhcmlhLWV4cGFuZGVkJyxcclxuICAgICAgJ2FyaWEtc2VsZWN0ZWQnLFxyXG4gICAgICAncm9sZScsXHJcbiAgICBdO1xyXG5cclxuICAgIHJldHVybiBhcmlhQXR0cmlidXRlcy5zb21lKGF0dHIgPT4gZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cikpO1xyXG4gIH0sXHJcblxyXG4gIC8vIENoZWNrIGlmIGVsZW1lbnQgaXMga2V5Ym9hcmQgYWNjZXNzaWJsZVxyXG4gIGlzS2V5Ym9hcmRBY2Nlc3NpYmxlOiAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHRhYkluZGV4ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XHJcbiAgICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgdGFiSW5kZXggIT09ICctMScgJiZcclxuICAgICAgKHRhYkluZGV4ICE9PSBudWxsIHx8IFsnYnV0dG9uJywgJ2lucHV0JywgJ3NlbGVjdCcsICd0ZXh0YXJlYScsICdhJ10uaW5jbHVkZXModGFnTmFtZSkpXHJcbiAgICApO1xyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBOZXR3b3JrIHRlc3RpbmcgdXRpbGl0aWVzXHJcbihnbG9iYWwgYXMgYW55KS5uZXR3b3JrVXRpbHMgPSB7XHJcbiAgLy8gTW9jayBzdWNjZXNzZnVsIEFQSSByZXNwb25zZVxyXG4gIG1vY2tBcGlTdWNjZXNzOiAoZGF0YTogYW55LCBzdGF0dXMgPSAyMDApID0+IHtcclxuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICBvazogdHJ1ZSxcclxuICAgICAgc3RhdHVzLFxyXG4gICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoZGF0YSksXHJcbiAgICAgIHRleHQ6ICgpID0+IFByb21pc2UucmVzb2x2ZShKU09OLnN0cmluZ2lmeShkYXRhKSksXHJcbiAgICB9KTtcclxuICB9LFxyXG5cclxuICAvLyBNb2NrIGZhaWxlZCBBUEkgcmVzcG9uc2VcclxuICBtb2NrQXBpRXJyb3I6IChlcnJvcjogRXJyb3IsIHN0YXR1cyA9IDUwMCkgPT4ge1xyXG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZWplY3RlZFZhbHVlT25jZShlcnJvcik7XHJcbiAgfSxcclxuXHJcbiAgLy8gTW9jayBuZXR3b3JrIHRpbWVvdXRcclxuICBtb2NrTmV0d29ya1RpbWVvdXQ6IChkZWxheSA9IDUwMDApID0+IHtcclxuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb25PbmNlKFxyXG4gICAgICAoKSA9PiBuZXcgUHJvbWlzZSgoXywgcmVqZWN0KSA9PlxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignTmV0d29yayB0aW1lb3V0JykpLCBkZWxheSlcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9LFxyXG59O1xyXG5cclxuLy8gTW9jayBlbnZpcm9ubWVudCB2YXJpYWJsZXNcclxuZGVsZXRlIChwcm9jZXNzLmVudiBhcyBhbnkpLk5PREVfRU5WO1xyXG4ocHJvY2Vzcy5lbnYgYXMgYW55KS5OT0RFX0VOViA9ICd0ZXN0JztcclxuKHByb2Nlc3MuZW52IGFzIGFueSkuUkVBQ1RfQVBQX0FQSV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAxJztcclxuKHByb2Nlc3MuZW52IGFzIGFueSkuUkVBQ1RfQVBQX0dPT0dMRV9NQVBTX0FQSV9LRVkgPSAndGVzdC1hcGkta2V5JztcclxuXHJcbi8vIEV4cG9ydCBmb3IgdXNlIGluIHRlc3RzXHJcbmV4cG9ydCB7fTtcclxuZ2xvYmFsLnRlc3RVdGlscyA9IHtcclxuICAvLyBIZWxwZXIgdG8gd2FpdCBmb3IgYXN5bmMgb3BlcmF0aW9uc1xyXG4gIHdhaXRGb3JBc3luYzogKCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRJbW1lZGlhdGUocmVzb2x2ZSkpLFxyXG5cclxuICAvLyBIZWxwZXIgdG8gY3JlYXRlIG1vY2sgcHJvbWlzZXNcclxuICBjcmVhdGVNb2NrUHJvbWlzZTogPFQ+KHZhbHVlOiBULCBkZWxheSA9IDApID0+XHJcbiAgICBuZXcgUHJvbWlzZTxUPihyZXNvbHZlID0+IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSh2YWx1ZSksIGRlbGF5KSksXHJcblxyXG4gIC8vIEhlbHBlciB0byBjcmVhdGUgbW9jayByZWplY3Rpb25zXHJcbiAgY3JlYXRlTW9ja1JlamVjdGlvbjogKGVycm9yOiBFcnJvciwgZGVsYXkgPSAwKSA9PlxyXG4gICAgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4gc2V0VGltZW91dCgoKSA9PiByZWplY3QoZXJyb3IpLCBkZWxheSkpLFxyXG59O1xyXG5cclxuLy8gUGVyZm9ybWFuY2UgdGVzdGluZyB1dGlsaXRpZXNcclxuZ2xvYmFsLnBlcmZvcm1hbmNlVXRpbHMgPSB7XHJcbiAgLy8gTWVhc3VyZSBmdW5jdGlvbiBleGVjdXRpb24gdGltZVxyXG4gIG1lYXN1cmVFeGVjdXRpb25UaW1lOiBhc3luYyA8VD4oZm46ICgpID0+IFByb21pc2U8VD4gfCBUKTogUHJvbWlzZTx7IHJlc3VsdDogVDsgZHVyYXRpb246IG51bWJlciB9PiA9PiB7XHJcbiAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oKTtcclxuICAgIGNvbnN0IGR1cmF0aW9uID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydDtcclxuICAgIHJldHVybiB7IHJlc3VsdCwgZHVyYXRpb24gfTtcclxuICB9LFxyXG5cclxuICAvLyBBc3NlcnQgcGVyZm9ybWFuY2UgdGhyZXNob2xkXHJcbiAgYXNzZXJ0UGVyZm9ybWFuY2U6IChkdXJhdGlvbjogbnVtYmVyLCB0aHJlc2hvbGQ6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKGR1cmF0aW9uID4gdGhyZXNob2xkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUGVyZm9ybWFuY2UgdGVzdCBmYWlsZWQ6ICR7ZHVyYXRpb259bXMgZXhjZWVkZWQgdGhyZXNob2xkIG9mICR7dGhyZXNob2xkfW1zYCk7XHJcbiAgICB9XHJcbiAgfSxcclxufTtcclxuXHJcbi8vIE1lbW9yeSB0ZXN0aW5nIHV0aWxpdGllc1xyXG5nbG9iYWwubWVtb3J5VXRpbHMgPSB7XHJcbiAgLy8gR2V0IGN1cnJlbnQgbWVtb3J5IHVzYWdlXHJcbiAgZ2V0TWVtb3J5VXNhZ2U6ICgpID0+IHtcclxuICAgIGlmICgnbWVtb3J5JyBpbiBwZXJmb3JtYW5jZSkge1xyXG4gICAgICByZXR1cm4gKHBlcmZvcm1hbmNlIGFzIGFueSkubWVtb3J5O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSxcclxuXHJcbiAgLy8gQXNzZXJ0IG1lbW9yeSB1c2FnZSBpcyB3aXRoaW4gbGltaXRzXHJcbiAgYXNzZXJ0TWVtb3J5VXNhZ2U6IChtYXhIZWFwVXNlZDogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBtZW1vcnkgPSBnbG9iYWwubWVtb3J5VXRpbHMuZ2V0TWVtb3J5VXNhZ2UoKTtcclxuICAgIGlmIChtZW1vcnkgJiYgbWVtb3J5LnVzZWRKU0hlYXBTaXplID4gbWF4SGVhcFVzZWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNZW1vcnkgdXNhZ2UgdGVzdCBmYWlsZWQ6ICR7bWVtb3J5LnVzZWRKU0hlYXBTaXplfSBleGNlZWRlZCBsaW1pdCBvZiAke21heEhlYXBVc2VkfWApO1xyXG4gICAgfVxyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBBY2Nlc3NpYmlsaXR5IHRlc3RpbmcgdXRpbGl0aWVzXHJcbmdsb2JhbC5hMTF5VXRpbHMgPSB7XHJcbiAgLy8gQ2hlY2sgaWYgZWxlbWVudCBoYXMgcHJvcGVyIEFSSUEgYXR0cmlidXRlc1xyXG4gIGhhc0FyaWFBdHRyaWJ1dGVzOiAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGFyaWFBdHRyaWJ1dGVzID0gW1xyXG4gICAgICAnYXJpYS1sYWJlbCcsXHJcbiAgICAgICdhcmlhLWxhYmVsbGVkYnknLFxyXG4gICAgICAnYXJpYS1kZXNjcmliZWRieScsXHJcbiAgICAgICdhcmlhLWV4cGFuZGVkJyxcclxuICAgICAgJ2FyaWEtc2VsZWN0ZWQnLFxyXG4gICAgICAncm9sZScsXHJcbiAgICBdO1xyXG5cclxuICAgIHJldHVybiBhcmlhQXR0cmlidXRlcy5zb21lKGF0dHIgPT4gZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cikpO1xyXG4gIH0sXHJcblxyXG4gIC8vIENoZWNrIGlmIGVsZW1lbnQgaXMga2V5Ym9hcmQgYWNjZXNzaWJsZVxyXG4gIGlzS2V5Ym9hcmRBY2Nlc3NpYmxlOiAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHRhYkluZGV4ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XHJcbiAgICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgdGFiSW5kZXggIT09ICctMScgJiZcclxuICAgICAgKHRhYkluZGV4ICE9PSBudWxsIHx8IFsnYnV0dG9uJywgJ2lucHV0JywgJ3NlbGVjdCcsICd0ZXh0YXJlYScsICdhJ10uaW5jbHVkZXModGFnTmFtZSkpXHJcbiAgICApO1xyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBOZXR3b3JrIHRlc3RpbmcgdXRpbGl0aWVzXHJcbmdsb2JhbC5uZXR3b3JrVXRpbHMgPSB7XHJcbiAgLy8gTW9jayBzdWNjZXNzZnVsIEFQSSByZXNwb25zZVxyXG4gIG1vY2tBcGlTdWNjZXNzOiAoZGF0YTogYW55LCBzdGF0dXMgPSAyMDApID0+IHtcclxuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICBvazogdHJ1ZSxcclxuICAgICAgc3RhdHVzLFxyXG4gICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoZGF0YSksXHJcbiAgICAgIHRleHQ6ICgpID0+IFByb21pc2UucmVzb2x2ZShKU09OLnN0cmluZ2lmeShkYXRhKSksXHJcbiAgICB9KTtcclxuICB9LFxyXG5cclxuICAvLyBNb2NrIGZhaWxlZCBBUEkgcmVzcG9uc2VcclxuICBtb2NrQXBpRXJyb3I6IChlcnJvcjogRXJyb3IsIHN0YXR1cyA9IDUwMCkgPT4ge1xyXG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZWplY3RlZFZhbHVlT25jZShlcnJvcik7XHJcbiAgfSxcclxuXHJcbiAgLy8gTW9jayBuZXR3b3JrIHRpbWVvdXRcclxuICBtb2NrTmV0d29ya1RpbWVvdXQ6IChkZWxheSA9IDUwMDApID0+IHtcclxuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb25PbmNlKFxyXG4gICAgICAoKSA9PiBuZXcgUHJvbWlzZSgoXywgcmVqZWN0KSA9PlxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignTmV0d29yayB0aW1lb3V0JykpLCBkZWxheSlcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9LFxyXG59O1xyXG5cclxuLy8gRXh0ZW5kIGdsb2JhbCB0eXBlcyBmb3IgdGVzdCB1dGlsaXRpZXNcclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIHZhciB0ZXN0VXRpbHM6IHtcclxuICAgIHdhaXRGb3JBc3luYzogKCkgPT4gUHJvbWlzZTx2b2lkPjtcclxuICAgIGNyZWF0ZU1vY2tQcm9taXNlOiA8VD4odmFsdWU6IFQsIGRlbGF5PzogbnVtYmVyKSA9PiBQcm9taXNlPFQ+O1xyXG4gICAgY3JlYXRlTW9ja1JlamVjdGlvbjogKGVycm9yOiBFcnJvciwgZGVsYXk/OiBudW1iZXIpID0+IFByb21pc2U8bmV2ZXI+O1xyXG4gIH07XHJcblxyXG4gIHZhciBwZXJmb3JtYW5jZVV0aWxzOiB7XHJcbiAgICBtZWFzdXJlRXhlY3V0aW9uVGltZTogPFQ+KGZuOiAoKSA9PiBQcm9taXNlPFQ+IHwgVCkgPT4gUHJvbWlzZTx7IHJlc3VsdDogVDsgZHVyYXRpb246IG51bWJlciB9PjtcclxuICAgIGFzc2VydFBlcmZvcm1hbmNlOiAoZHVyYXRpb246IG51bWJlciwgdGhyZXNob2xkOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgfTtcclxuXHJcbiAgdmFyIG1lbW9yeVV0aWxzOiB7XHJcbiAgICBnZXRNZW1vcnlVc2FnZTogKCkgPT4gYW55O1xyXG4gICAgYXNzZXJ0TWVtb3J5VXNhZ2U6IChtYXhIZWFwVXNlZDogbnVtYmVyKSA9PiB2b2lkO1xyXG4gIH07XHJcblxyXG4gIHZhciBhMTF5VXRpbHM6IHtcclxuICAgIGhhc0FyaWFBdHRyaWJ1dGVzOiAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IGJvb2xlYW47XHJcbiAgICBpc0tleWJvYXJkQWNjZXNzaWJsZTogKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiBib29sZWFuO1xyXG4gIH07XHJcblxyXG4gIHZhciBuZXR3b3JrVXRpbHM6IHtcclxuICAgIG1vY2tBcGlTdWNjZXNzOiAoZGF0YTogYW55LCBzdGF0dXM/OiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgICBtb2NrQXBpRXJyb3I6IChlcnJvcjogRXJyb3IsIHN0YXR1cz86IG51bWJlcikgPT4gdm9pZDtcclxuICAgIG1vY2tOZXR3b3JrVGltZW91dDogKGRlbGF5PzogbnVtYmVyKSA9PiB2b2lkO1xyXG4gIH07XHJcbn1cclxuIl0sInZlcnNpb24iOjN9