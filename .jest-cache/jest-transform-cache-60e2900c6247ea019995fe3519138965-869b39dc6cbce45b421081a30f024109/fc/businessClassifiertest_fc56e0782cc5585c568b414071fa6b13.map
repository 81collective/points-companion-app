{"version":3,"names":["_businessClassifier","require","describe","it","res","classifyBusiness","name","expect","taxonomy","toBe","brandId","confidence","toBeGreaterThanOrEqual","googleTypes","mapboxPlaceName","toBeLessThanOrEqual"],"sources":["businessClassifier.test.ts"],"sourcesContent":["import { classifyBusiness } from '@/lib/classification/businessClassifier';\r\n\r\ndescribe('classifyBusiness', () => {\r\n  it('identifies well-known coffee brand with high confidence', () => {\r\n    const res = classifyBusiness({ name: 'Starbucks Coffee' });\r\n    expect(res.taxonomy).toBe('coffee');\r\n    expect(res.brandId).toBe('starbucks');\r\n    expect(res.confidence).toBeGreaterThanOrEqual(0.95);\r\n  });\r\n\r\n  it('maps google restaurant types to dining with strong confidence', () => {\r\n    const res = classifyBusiness({ name: 'Local Kitchen', googleTypes: ['restaurant'] });\r\n    expect(res.taxonomy).toBe('dining');\r\n    expect(res.confidence).toBeGreaterThanOrEqual(0.8);\r\n  });\r\n\r\n  it('maps department_store to shopping', () => {\r\n    const res = classifyBusiness({ name: 'Generic Department', googleTypes: ['department_store'] });\r\n    expect(res.taxonomy).toBe('shopping');\r\n    expect(res.confidence).toBeGreaterThanOrEqual(0.5);\r\n  });\r\n\r\n  it('infers home improvement from mapbox place name keywords', () => {\r\n    const res = classifyBusiness({ name: \"Joe's\", mapboxPlaceName: 'Joe\\'s Hardware Home Improvement, Springfield' });\r\n    expect(res.taxonomy).toBe('home_improvement');\r\n    expect(res.confidence).toBeGreaterThanOrEqual(0.5);\r\n  });\r\n\r\n  it('defaults to shopping with low confidence when ambiguous', () => {\r\n    const res = classifyBusiness({ name: 'The Store' });\r\n    expect(res.taxonomy).toBe('shopping');\r\n    expect(res.confidence).toBeLessThanOrEqual(0.4);\r\n  });\r\n});\r\n"],"mappings":";;AAAA,IAAAA,mBAAA,GAAAC,OAAA;AAEAC,QAAQ,CAAC,kBAAkB,EAAE,MAAM;EACjCC,EAAE,CAAC,yDAAyD,EAAE,MAAM;IAClE,MAAMC,GAAG,GAAG,IAAAC,oCAAgB,EAAC;MAAEC,IAAI,EAAE;IAAmB,CAAC,CAAC;IAC1DC,MAAM,CAACH,GAAG,CAACI,QAAQ,CAAC,CAACC,IAAI,CAAC,QAAQ,CAAC;IACnCF,MAAM,CAACH,GAAG,CAACM,OAAO,CAAC,CAACD,IAAI,CAAC,WAAW,CAAC;IACrCF,MAAM,CAACH,GAAG,CAACO,UAAU,CAAC,CAACC,sBAAsB,CAAC,IAAI,CAAC;EACrD,CAAC,CAAC;EAEFT,EAAE,CAAC,+DAA+D,EAAE,MAAM;IACxE,MAAMC,GAAG,GAAG,IAAAC,oCAAgB,EAAC;MAAEC,IAAI,EAAE,eAAe;MAAEO,WAAW,EAAE,CAAC,YAAY;IAAE,CAAC,CAAC;IACpFN,MAAM,CAACH,GAAG,CAACI,QAAQ,CAAC,CAACC,IAAI,CAAC,QAAQ,CAAC;IACnCF,MAAM,CAACH,GAAG,CAACO,UAAU,CAAC,CAACC,sBAAsB,CAAC,GAAG,CAAC;EACpD,CAAC,CAAC;EAEFT,EAAE,CAAC,mCAAmC,EAAE,MAAM;IAC5C,MAAMC,GAAG,GAAG,IAAAC,oCAAgB,EAAC;MAAEC,IAAI,EAAE,oBAAoB;MAAEO,WAAW,EAAE,CAAC,kBAAkB;IAAE,CAAC,CAAC;IAC/FN,MAAM,CAACH,GAAG,CAACI,QAAQ,CAAC,CAACC,IAAI,CAAC,UAAU,CAAC;IACrCF,MAAM,CAACH,GAAG,CAACO,UAAU,CAAC,CAACC,sBAAsB,CAAC,GAAG,CAAC;EACpD,CAAC,CAAC;EAEFT,EAAE,CAAC,yDAAyD,EAAE,MAAM;IAClE,MAAMC,GAAG,GAAG,IAAAC,oCAAgB,EAAC;MAAEC,IAAI,EAAE,OAAO;MAAEQ,eAAe,EAAE;IAAgD,CAAC,CAAC;IACjHP,MAAM,CAACH,GAAG,CAACI,QAAQ,CAAC,CAACC,IAAI,CAAC,kBAAkB,CAAC;IAC7CF,MAAM,CAACH,GAAG,CAACO,UAAU,CAAC,CAACC,sBAAsB,CAAC,GAAG,CAAC;EACpD,CAAC,CAAC;EAEFT,EAAE,CAAC,yDAAyD,EAAE,MAAM;IAClE,MAAMC,GAAG,GAAG,IAAAC,oCAAgB,EAAC;MAAEC,IAAI,EAAE;IAAY,CAAC,CAAC;IACnDC,MAAM,CAACH,GAAG,CAACI,QAAQ,CAAC,CAACC,IAAI,CAAC,UAAU,CAAC;IACrCF,MAAM,CAACH,GAAG,CAACO,UAAU,CAAC,CAACI,mBAAmB,CAAC,GAAG,CAAC;EACjD,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}